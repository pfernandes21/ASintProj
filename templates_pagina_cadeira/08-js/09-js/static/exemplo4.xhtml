<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Title</title>




    <script type="text/javascript">
        //<![CDATA[
        function reqResponse () {
                console.log(this.responseText);
             o = JSON.parse(this.responseText);
                           console.log(o[10]);
            s="<ol>";
            var i =0;
            var len = o.length
            for (i = 0, len = o.length; i < len; i++) {
                s+= "<li>";
                s += o[i];
                s+= "</li>";
            }
            s+="</ol>";
            document.getElementById('divDestiny').innerHTML = s;
        }


         function autocomplete_f() {
            var t = document.getElementById('searchText').value;
            console.log(this.responseText);
            document.getElementById('divDestiny').innerHTML = t;
            var oReq = new XMLHttpRequest();
            oReq.addEventListener("load", reqResponse);
            oReq.open("POST", "/autocomplete");
            oReq.setRequestHeader("Content-type", "application/json");
            oReq.send('{"str":"'+  t + '"}');
        }
        //]]>
  </script>

</head>
<body>


    <h1>Input a search term</h1>


        <input type="text" name="" size="20" id="searchText" onkeyup="autocomplete_f()" />
        <input type="submit" value="Search" />

    <div id="divDestiny">(this is where the text will go)</div>

</body>
</html>